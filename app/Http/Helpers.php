<?php

function mapData() {
    return [
        '1_14' => ['name' => 'Durotar', 'y_min' => -1962.49988, 'y_max' => -7249.99951, 'x_min' => 1808.33325, 'x_max' => -1716.66663],
        '1_215' => ['name' => 'Mulgore', 'y_min' => 2047.91663, 'y_max' => -3089.58325, 'x_min' => -272.916656, 'x_max' => -3697.9165],
        '1_17' => ['name' => 'Barrens', 'y_min' => 2622.9165, 'y_max' => -7510.4165, 'x_min' => 1612.49988, 'x_max' => -5143.75],
        '1_0' => ['name' => 'Kalimdor', 'y_min' => 17066.6, 'y_max' => -19733.21, 'x_min' => 12799.9, 'x_max' => -11733.3],
        '0_0' => ['name' => 'Azeroth', 'y_min' => 18171.97, 'y_max' => -22569.21, 'x_min' => 11176.3438, 'x_max' => -15973.3438],
        '0_36' => ['name' => 'Alterac', 'y_min' => 783.3333, 'y_max' => -2016.66663, 'x_min' => 1500, 'x_max' => -366.666656],
        '0_45' => ['name' => 'Arathi', 'y_min' => -866.6666, 'y_max' => -4466.6665, 'x_min' => -133.333328, 'x_max' => -2533.33325],
        '0_3' => ['name' => 'Badlands', 'y_min' => -2079.1665, 'y_max' => -4566.6665, 'x_min' => -5889.583, 'x_max' => -7547.9165],
        '0_4' => ['name' => 'BlastedLands', 'y_min' => -1241.66663, 'y_max' => -4591.6665, 'x_min' => -10566.666, 'x_max' => -12800],
        '0_85' => ['name' => 'Tirisfal', 'y_min' => 3033.33325, 'y_max' => -1485.41663, 'x_min' => 3837.49976, 'x_max' => 824.999939],
        '0_130' => ['name' => 'Silverpine', 'y_min' => 3449.99976, 'y_max' => -750, 'x_min' => 1666.66663, 'x_max' => -1133.33325],
        '0_28' => ['name' => 'WesternPlaguelands', 'y_min' => 416.666656, 'y_max' => -3883.33325, 'x_min' => 3366.6665, 'x_max' => 499.999969],
        '0_139' => ['name' => 'EasternPlaguelands', 'y_min' => -2185.4165, 'y_max' => -6056.25, 'x_min' => 3799.99976, 'x_max' => 1218.75],
        '0_267' => ['name' => 'Hilsbrad', 'y_min' => 1066.66663, 'y_max' => -2133.33325, 'x_min' => 400, 'x_max' => -1733.33325],
        '0_47' => ['name' => 'Hinterlands', 'y_min' => -1575, 'y_max' => -5425, 'x_min' => 1466.66663, 'x_max' => -1100],
        '0_1' => ['name' => 'DunMorogh', 'y_min' => 1802.08325, 'y_max' => -3122.9165, 'x_min' => -3877.08325, 'x_max' => -7160.4165],
        '0_51' => ['name' => 'SearingGorge', 'y_min' => -322.916656, 'y_max' => -2554.1665, 'x_min' => -6100, 'x_max' => -7587.49951],
        '0_46' => ['name' => 'BurningSteppes', 'y_min' => -266.666656, 'y_max' => -3195.83325, 'x_min' => -7031.24951, 'x_max' => -8983.333],
        '0_12' => ['name' => 'Elwynn', 'y_min' => 1535.41663, 'y_max' => -1935.41663, 'x_min' => -7939.583, 'x_max' => -10254.166],
        '0_41' => ['name' => 'DeadwindPass', 'y_min' => -833.3333, 'y_max' => -3333.33325, 'x_min' => -9866.666, 'x_max' => -11533.333],
        '0_10' => ['name' => 'Duskwood', 'y_min' => 833.3333, 'y_max' => -1866.66663, 'x_min' => -9716.666, 'x_max' => -11516.666],
        '0_38' => ['name' => 'LochModan', 'y_min' => -1993.74988, 'y_max' => -4752.083, 'x_min' => -4487.5, 'x_max' => -6327.083],
        '0_44' => ['name' => 'Redridge', 'y_min' => -1570.83325, 'y_max' => -3741.6665, 'x_min' => -8575, 'x_max' => -10022.916],
        '0_33' => ['name' => 'Stranglethorn', 'y_min' => 2220.83325, 'y_max' => -4160.4165, 'x_min' => -11168.75, 'x_max' => -15422.916],
        '0_8' => ['name' => 'SwampOfSorrows', 'y_min' => -2222.9165, 'y_max' => -4516.6665, 'x_min' => -9620.833, 'x_max' => -11150],
        '0_40' => ['name' => 'Westfall', 'y_min' => 3016.6665, 'y_max' => -483.3333, 'x_min' => -9400, 'x_max' => -11733.333],
        '0_11' => ['name' => 'Wetlands', 'y_min' => -389.5833, 'y_max' => -4525, 'x_min' => -2147.9165, 'x_max' => -4904.1665],
        '1_141' => ['name' => 'Teldrassil', 'y_min' => 3814.58325, 'y_max' => -1277.08325, 'x_min' => 11831.25, 'x_max' => 8437.5],
        '1_148' => ['name' => 'Darkshore', 'y_min' => 2941.6665, 'y_max' => -3608.33325, 'x_min' => 8333.333, 'x_max' => 3966.6665],
        '1_331' => ['name' => 'Ashenvale', 'y_min' => 1699.99988, 'y_max' => -4066.6665, 'x_min' => 4672.9165, 'x_max' => 829.1666],
        '1_400' => ['name' => 'ThousandNeedles', 'y_min' => -433.3333, 'y_max' => -4833.333, 'x_min' => -3966.6665, 'x_max' => -6899.99951],
        '1_406' => ['name' => 'StonetalonMountains', 'y_min' => 3245.83325, 'y_max' => -1637.49988, 'x_min' => 2916.6665, 'x_max' => -339.5833],
        '1_405' => ['name' => 'Desolace', 'y_min' => 4233.333, 'y_max' => -262.5, 'x_min' => 452.0833, 'x_max' => -2545.83325],
        '1_357' => ['name' => 'Feralas', 'y_min' => 5441.6665, 'y_max' => -1508.33325, 'x_min' => -2366.6665, 'x_max' => -6999.99951],
        '1_15' => ['name' => 'Dustwallow', 'y_min' => -974.999939, 'y_max' => -6225, 'x_min' => -2033.33325, 'x_max' => -5533.333],
        '1_440' => ['name' => 'Tanaris', 'y_min' => -218.749985, 'y_max' => -7118.74951, 'x_min' => -5875, 'x_max' => -10475],
        '1_16' => ['name' => 'Aszhara', 'y_min' => -3277.08325, 'y_max' => -8347.916, 'x_min' => 5341.6665, 'x_max' => 1960.41663],
        '1_361' => ['name' => 'Felwood', 'y_min' => 1641.66663, 'y_max' => -4108.333, 'x_min' => 7133.333, 'x_max' => 3299.99976],
        '1_490' => ['name' => 'UngoroCrater', 'y_min' => 533.3333, 'y_max' => -3166.6665, 'x_min' => -5966.6665, 'x_max' => -8433.333],
        '1_493' => ['name' => 'Moonglade', 'y_min' => -1381.25, 'y_max' => -3689.58325, 'x_min' => 8491.666, 'x_max' => 6952.083],
        '1_1377' => ['name' => 'Silithus', 'y_min' => 2537.5, 'y_max' => -945.834, 'x_min' => -5958.334, 'x_max' => -8281.25],
        '1_618' => ['name' => 'Winterspring', 'y_min' => -316.666656, 'y_max' => -7416.6665, 'x_min' => 8533.333, 'x_max' => 3799.99976],
        '0_1519' => ['name' => 'Stormwind', 'y_min' => 1380.97144, 'y_max' => 36.70063, 'x_min' => -8278.851, 'x_max' => -9175.205],
        '1_1637' => ['name' => 'Ogrimmar', 'y_min' => -3680.601, 'y_max' => -5083.20557, 'x_min' => 2273.8772, 'x_max' => 1338.46057],
        '0_1537' => ['name' => 'Ironforge', 'y_min' => -713.5914, 'y_max' => -1504.21643, 'x_min' => -4569.241, 'x_max' => -5096.8457],
        '1_1638' => ['name' => 'ThunderBluff', 'y_min' => 516.6666, 'y_max' => -527.0833, 'x_min' => -849.999939, 'x_max' => -1545.83325],
        '1_1657' => ['name' => 'Darnassis', 'y_min' => 2938.36279, 'y_max' => 1880.02954, 'x_min' => 10238.3164, 'x_max' => 9532.587],
        '0_1497' => ['name' => 'Undercity', 'y_min' => 873.1926, 'y_max' => -86.1824, 'x_min' => 1877.94531, 'x_max' => 1237.84119],
        '30_2597' => ['name' => 'AlteracValley', 'y_min' => 1781.24988, 'y_max' => -2456.25, 'x_min' => 1085.41663, 'x_max' => -1739.58325],
        '489_3277' => ['name' => 'WarsongGulch', 'y_min' => 2041.66663, 'y_max' => 895.8333, 'x_min' => 1627.08325, 'x_max' => 862.499939],
        '529_3358' => ['name' => 'ArathiBasin', 'y_min' => 1858.33325, 'y_max' => 102.083328, 'x_min' => 1508.33325, 'x_max' => 337.5],
        '530_3430' => ['name' => 'EversongWoods', 'y_min' => -4487.5, 'y_max' => -9412.5, 'x_min' => 11041.666, 'x_max' => 7758.333],
        '530_3433' => ['name' => 'Ghostlands', 'y_min' => -5283.333, 'y_max' => -8583.333, 'x_min' => 8266.666, 'x_max' => 6066.6665],
        '530_3524' => ['name' => 'AzuremystIsle', 'y_min' => -10500, 'y_max' => -14570.833, 'x_min' => -2793.75, 'x_max' => -5508.333],
        '530_3483' => ['name' => 'Hellfire', 'y_min' => 5539.583, 'y_max' => 375, 'x_min' => 1481.25, 'x_max' => -1962.49988],
        '530_0' => ['name' => 'Expansion01', 'y_min' => 12996.0391, 'y_max' => -4468.039, 'x_min' => 5821.35938, 'x_max' => -5821.35938],
        '530_3521' => ['name' => 'Zangarmarsh', 'y_min' => 9475, 'y_max' => 4447.9165, 'x_min' => 1935.41663, 'x_max' => -1416.66663],
        '530_3557' => ['name' => 'TheExodar', 'y_min' => -11066.3672, 'y_max' => -12123.1377, 'x_min' => -3609.68335, 'x_max' => -4314.371],
        '530_3520' => ['name' => 'ShadowmoonValley', 'y_min' => 4225, 'y_max' => -1275, 'x_min' => -1947.91663, 'x_max' => -5614.583],
        '530_3522' => ['name' => 'BladesEdgeMountains', 'y_min' => 8845.833, 'y_max' => 3420.83325, 'x_min' => 4408.333, 'x_max' => 791.6666],
        '530_3525' => ['name' => 'BloodmystIsle', 'y_min' => -10075, 'y_max' => -13337.499, 'x_min' => -758.3333, 'x_max' => -2933.33325],
        '530_3518' => ['name' => 'Nagrand', 'y_min' => 10295.833, 'y_max' => 4770.833, 'x_min' => 41.6666641, 'x_max' => -3641.6665],
        '530_3519' => ['name' => 'TerokkarForest', 'y_min' => 7083.333, 'y_max' => 1683.33325, 'x_min' => -999.999939, 'x_max' => -4600],
        '530_3523' => ['name' => 'Netherstorm', 'y_min' => 5483.333, 'y_max' => -91.6666641, 'x_min' => 5456.25, 'x_max' => 1739.58325],
        '530_3487' => ['name' => 'SilvermoonCity', 'y_min' => -6400.75, 'y_max' => -7612.2085, 'x_min' => 10153.709, 'x_max' => 9346.938],
        '530_3703' => ['name' => 'ShattrathCity', 'y_min' => 6135.259, 'y_max' => 4829.009, 'x_min' => -1473.95447, 'x_max' => -2344.78784],
        '566_3820' => ['name' => 'NetherstormArena', 'y_min' => 2660.4165, 'y_max' => 389.5833, 'x_min' => 2918.75, 'x_max' => 1404.16663],
        '530_4080' => ['name' => 'Sunwell', 'y_min' => -5302.083, 'y_max' => -8629.166, 'x_min' => 13568.749, 'x_max' => 11350]
    ];
}

function gender($id) {
    return ['male', 'female'][$id];
}

function race_image($gender, $race) {
    return '/img/' . gender($gender) . '_' . [
        1 => "human",
        2 => "orc",
        3 => "dwarf",
        4 => "nightelf",
        5 => "undead",
        6 => "tauren",
        7 => "gnome",
        8 => "troll",
        10 => "bloodelf",
        11 => "draenei"
    ][$race] . '.png' ?? '';
}

function class_image($class) {
    return '/img/' . [
        1 => "warrior",
        2 => "paladin",
        3 => "hunter",
        4 => "rogue",
        5 => "priest",
        7 => "shaman",
        8 => "mage",
        9 => "warlock",
        11 => "druid"
    ][$class] . '.png' ?? '';
}

function race_name($race) {
    return [
        1 => "Human",
        2 => "Orc",
        3 => "Dwarf",
        4 => "Night Elf",
        5 => "Undead",
        6 => "Tauren",
        7 => "Gnome",
        8 => "Troll",
        10 => "Blood Elf",
        11 => "Draenei"
    ][$race] ?? '';
}

function class_name($class) {
    return [
        1 => "Warrior",
        2 => "Paladin",
        3 => "Hunter",
        4 => "Rogue",
        5 => "Priest",
        7 => "Shaman",
        8 => "Mage",
        9 => "Warlock",
        11 => "Druid"
    ][$class] ?? '';
}

function money($copper) {
    $gold = $copper / 10000;
    $silver = $copper / 1000;
    $copper = $copper % 100;
    return sprintf("%dg%ds%dc", $gold, $silver, $copper);
}

function worldToMap($map, $zone, $x, $y) {
    $world_maps = mapData();
    if ($x === 0 || $y === 0) { return ['x' => 0, 'y' => 0]; }
    if ($world_maps[$map.'_'.$zone] ?? false) {
        $map = $world_maps[$map.'_'.$zone];
        if ($map['x_min'] == $map['x_max'] || $map['y_min'] == $map['y_max']) {
            return ['x' => 0, 'y' => 0];
        }
        // x = (x - maEntry->x1) / ((maEntry->x2 - maEntry->x1) / 100);
        // y = (y - maEntry->y1) / ((maEntry->y2 - maEntry->y1) / 100); // client y coord from top to down

        $_x = ($x - $map['x_max']) / (($map['x_min'] - $map['x_max']) / 100);
        $_y = ($y - $map['y_max']) / (($map['y_min'] - $map['y_max']) / 100);
        return ['x' => $_y, 'y' => $_x];
    }
    return ['x' => 0, 'y' => 0];
}

function mapX($map, $zone, $x, $y) {
    return worldToMap($map, $zone, $x, $y)['x'];
}

function mapY($map, $zone, $x, $y) {
    return worldToMap($map, $zone, $x, $y)['y'];
}

function zoneName($map, $zone) {
    $world_maps = mapData();
    return $world_maps[$map.'_'.$zone]['name'];
}
